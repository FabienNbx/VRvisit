<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Projet test</title>
	<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^5.1.2/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@^3.2.1/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.2.1/dist/aframe-event-set-component.min.js"></script> 
    <script src="https://unpkg.com/aframe-look-at-component@0.7.0/dist/aframe-look-at-component.min.js"></script>
    <!-- <script src="latotale.js"></script> -->
    <script src="360tour.js"></script>   

</head>
<body>
	<a-scene>
		<a-assets>
			<script id="template" type="text/html">
				<a-entity 
				template="src: #templateArrow"
				rotation="${childrotation}"
				material="color: #5a92ae"
				move="on: click; target: ${target}"
				animation__scale="property: scale; from: 1 1 1; to: 1.25 1.25 2; loop: true; dur: 1250; dir: alternate; startEvents: mouseenter; pauseEvents: mouseleave"
				animation__scaleReturn="property: scale; to: 1 1 1; dur: 500; easing: easeOutElastic; startEvents: mouseleave"
				>
				</a-entity>
			</script>
			<script id="templateArrow" type="text/html">
				<a-entity scale="0.5 0.5 0.5""
					>
					<a-entity
						geometry="primitive: cylinder; radius: 0.5; height: 2"
						material="transparent: true; opacity: 0.6; color: white"
						rotation="90 0 0"
					>
					</a-entity>
					<a-entity
						geometry="primitive: cone; height: 2"
						material="transparent: true; opacity: 0.75; color: white"
						position="0 0 -2"
						rotation="-90 0 0"
					>
					</a-entity>
				</a-entity>
			</script>
			<script id="templateMap" type="text/html">
				<a-entity 
				geometry="primitive: plane; height: 1; width: 1" 
				material="color: #202020"
				move="on: click; target: ${target}"
				look-at="#camera"
				text="align: center; wrapCount: 10; value: ${target}"
			    animation__scale="property: scale; from: 1 1 1; to: 1.5 1.5 1; dur: 750; dir: alternate; easing: easeInOutElastic; startEvents: mouseenter; pauseEvents: mouseleave"animation__scaleReturn="property: scale; to: 1 1 1; dur: 500; easing: easeOutElastic; startEvents: mouseleave"
				>
				</a-entity>
			</script>
			<script id="templateMapIcon" type="text/html">
				<a-entity
					display-label="${target}"
					geometry="primitive: sphere; radius: 0.5" 
					material="color: #202020"
					position="0 0 -3"
					animation__scale="property: scale; from: 1 1 1; to: 1.5 1.5 1.5; dur: 750; dir: alternate; easing: easeInOutElastic; startEvents: mouseenter; pauseEvents: mouseleave"
					animation__scaleReturn="property: scale; to: 1 1 1; dur: 500; easing: easeOutElastic; startEvents: mouseleave"
				>
				</a-entity>
				<a-entity
					display-label="${target}"
					geometry="primitive: sphere; radius: 1"
					material="color: #5a92ae"
					movetothismap="on: click; target: ${target}"
					animation__scale="property: scale; from: 1 1 1; to: 1.5 1.5 1.5; dur: 750; dir: alternate; easing: easeInOutElastic; startEvents: mouseenter; pauseEvents: mouseleave"
					animation__scaleReturn="property: scale; to: 1 1 1; dur: 500; easing: easeOutElastic; startEvents: mouseleave"
				>
				</a-entity>
			</script>
		</a-assets>

		<a-sky id="background"></a-sky>	

		<a-entity id="A12" class="piece" sourceimage="img/A12.JPG" description="A12" visible='false'>
		</a-entity>
		<a-entity id="A18" class="piece" sourceimage="img/A18.JPG" description="A18" visible='false'>
		</a-entity>
		<a-entity id="A19" class="piece" sourceimage="img/A19.JPG" description="A19" visible='false'>
		</a-entity>
		<a-entity id="A21" class="piece" sourceimage="img/A21.JPG" description="A21" visible='false'>
		</a-entity>
		<a-entity id="A22" class="piece" sourceimage="img/A22.JPG" description="A22" visible='false'>
		</a-entity>
		<a-entity id="A23" class="piece" sourceimage="img/A23.JPG" description="A23" visible='false'>
		</a-entity>
		<a-entity id="B10" class="piece" sourceimage="img/B10.JPG" description="B10" visible='false'>
		</a-entity>
		<a-entity id="B12" class="piece" sourceimage="img/B12.JPG" description="B12" visible='false'>
		</a-entity>
		<a-entity id="B14" class="piece" sourceimage="img/B14.JPG" description="B14" visible='false'>
		</a-entity>
		<a-entity id="B17" class="piece" sourceimage="img/B17.JPG" description="B17" visible='false'>
		</a-entity>
		<a-entity id="B18" class="piece" sourceimage="img/B18.JPG" description="B18" visible='false'>
		</a-entity>
		<a-entity id="B19" class="piece" sourceimage="img/B19.JPG" description="B19" visible='false'>
		</a-entity>
		<a-entity id="B20" class="piece" sourceimage="img/B20.JPG" description="B20" visible='false'>
		</a-entity>
		<a-entity id="B21" class="piece" sourceimage="img/B21.JPG" description="B21" visible='false'>
		</a-entity>
		<a-entity id="B22" class="piece" sourceimage="img/B22.JPG" description="B22" visible='false'>
		</a-entity>
		<a-entity id="B23" class="piece" sourceimage="img/B23.JPG" description="B23" visible='false'>
		</a-entity>
		<a-entity id="coinGauche" class="piece" sourceimage="img/coinGauche.JPG" description="coinGauche" visible='false'>
		</a-entity>
		<a-entity id="couloirA12" class="piece" sourceimage="img/couloirA12.JPG" description="couloirA12" visible='false'>
		</a-entity>
		<a-entity id="couloirA18A19" class="piece" sourceimage="img/couloirA18A19.JPG" description="couloirA18A19" visible='false'>
		</a-entity>
		<a-entity id="couloirA21A22" class="piece" sourceimage="img/couloirA21A22.JPG" description="couloirA21A22" visible='false'>
		</a-entity>
		<a-entity id="couloirA23" class="piece" sourceimage="img/couloirA23.JPG" description="couloirA23" visible='false'>
		</a-entity>
		<a-entity id="couloirB12" class="piece" sourceimage="img/couloirB12.JPG" description="couloirB12" visible='false'>
		</a-entity>
		<a-entity id="couloirB14B17" class="piece" sourceimage="img/couloirB14B17.JPG" description="couloirB14B17" visible='false'>
		</a-entity>
		<a-entity id="couloirB18B19" class="piece" sourceimage="img/couloirB18B19.JPG" description="couloirB18B19" visible='false'>
		</a-entity>
		<a-entity id="couloirB20B21B22B23" class="piece" sourceimage="img/couloirB20B21B22B23.JPG" description="couloirB20B21B22B23" visible='false'>
		</a-entity>
		<a-entity id="croisementChemin" class="piece" sourceimage="img/croisementChemin.JPG" description="croisementChemin" visible='false'>
		</a-entity>
		<a-entity id="escalierGaucheA" class="piece" sourceimage="img/escalierGaucheA.JPG" description="escalierGaucheA" visible='false'>
		</a-entity>
		<a-entity id="escalierGaucheB" class="piece" sourceimage="img/escalierGaucheB.JPG" description="escalierGaucheB" visible='false'>
		</a-entity>
		<a-entity id="escalierMilieuA" class="piece" sourceimage="img/escalierMilieuA.JPG" description="escalierMilieuA" visible='false'>
		</a-entity>
		<a-entity id="escalierMilieuB" class="piece" sourceimage="img/escalierMilieuB.JPG" description="escalierMilieuB" visible='false'>
		</a-entity>
		<a-entity id="exterieurGauche" class="piece" sourceimage="img/exterieurGauche.JPG" description="exterieurGauche" visible='false'>
		</a-entity>
		<a-entity id="exterieurMilieu" class="piece" sourceimage="img/exterieurMilieu.JPG" description="exterieurMilieu" visible='false' default>
		</a-entity>
		<a-entity id="gaucheA" class="piece" sourceimage="img/gaucheA.JPG" description="gaucheA" visible='false'>
		</a-entity>
		<a-entity id="gaucheB" class="piece" sourceimage="img/gaucheB.JPG" description="gaucheB" visible='false'>
		</a-entity>
		<a-entity id="milieuA" class="piece" sourceimage="img/milieuA.JPG" description="milieuA" visible='false'>
		</a-entity>
		<a-entity id="milieuB" class="piece" sourceimage="img/milieuB.JPG" description="milieuB" visible='false'>
		</a-entity>
		<a-entity id="secretariat" class="piece" sourceimage="img/secretariat.JPG" description="secretariat" visible='false'>
		</a-entity>

		<a-entity id="map1" class="piece map" sourceimage="img/map1.JPG" visible='false' defaultmap>
		</a-entity>
		<a-entity id="map2" class="piece map" sourceimage="img/map2.JPG" visible='false'>
		</a-entity>

		<a-entity id="mapButton" geometry="primitive: plane; width: 1; height: 1" material="src: img/map_icon.png" position="0 -2 0" text="align: center; wrapCount: 20" look-at="#camera"
				  animation__scale="property: scale; from: 1 1 1; to: 1.5 1.5 1; dur: 750; dir: alternate; easing: easeInOutElastic; startEvents: mouseenter; pauseEvents: mouseleave"animation__scaleReturn="property: scale; to: 1 1 1; dur: 500; easing: easeOutElastic; startEvents: mouseleave"
				  movetomap="on: click"
		></a-entity>

		<a-entity id="cameraRotation">
			<a-entity id="hud" geometry="primitive: plane; width: 2; height: 1" material="color: #202020" position="0 -2 -1"
				text="align: center; wrapCount: 20"
				look-at="#camera"
				>
			</a-entity>
			<a-entity id="camera" camera look-controls>
				<a-cursor class="cursor active"
						scale="2 2 2"
						color="black"
					  	event-set__1="_event: mouseenter; color: springgreen"
					  	event-set__2="_event: mouseleave; color: black"
					  	fuse-timeout=2500
					  	animation__scale="property: scale; from: 2 2 2; to: 0.1 0.1 0.1; dur: 2500; easing: easeInCubic; startEvents: fusing; pauseEvents: mouseleave"
					  	animation__scaleReturn="property: scale; to: 2 2 2; dur: 500; easing: easeOutElastic; startEvents: mouseleave"
				></a-cursor>
			</a-entity>
			<a-entity class="cursor" laser-controls="hand: right">
	        </a-entity>
		</a-entity>


	</a-scene>
</body>
</html>